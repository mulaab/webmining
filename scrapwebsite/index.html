<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Repositori Kuliah Web Mining"><link href=https://mulaab.github.io/webmining/scrapwebsite/ rel=canonical><meta name=author content=Mulaab><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-4.4.0"><title>Scrapwebsite - Repositori Kuliah Web Mining</title><link rel=stylesheet href=../assets/stylesheets/application.4031d38b.css><link rel=stylesheet href=../assets/stylesheets/application-palette.224b79ff.css><meta name=theme-color content=#795548><script src=../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../assets/fonts/material-icons.css><link rel=stylesheet href=../stylesheets/extra.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=brown data-md-color-accent=indigo> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#membangun-scraping-website tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://mulaab.github.io/webmining/ title="Repositori Kuliah Web Mining" class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Repositori Kuliah Web Mining </span> <span class=md-header-nav__topic> Scrapwebsite </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/mulaab/webmining/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> mulaab/webmining </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <nav class=md-tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. title="Rencana Pembelajaran Semester" class="md-tabs__link md-tabs__link--active"> Rencana Pembelajaran Semester </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://mulaab.github.io/webmining/ title="Repositori Kuliah Web Mining" class="md-nav__button md-logo"> <i class=md-icon></i> </a> Repositori Kuliah Web Mining </label> <div class=md-nav__source> <a href=https://github.com/mulaab/webmining/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> mulaab/webmining </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title="Rencana Pembelajaran Semester" class=md-nav__link> Rencana Pembelajaran Semester </a> </li> <li class=md-nav__item> <a href=../memahami/ title="Materi I" class=md-nav__link> Materi I </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#membangun-scraping-website title="Membangun Scraping Website ." class=md-nav__link> Membangun Scraping Website . </a> </li> <li class=md-nav__item> <a href=#1analisa-struktur-html-halaman-website title="1.Analisa Struktur HTML Halaman Website" class=md-nav__link> 1.Analisa Struktur HTML Halaman Website </a> </li> <li class=md-nav__item> <a href=#markup-languages title="Markup Languages" class=md-nav__link> Markup Languages </a> </li> <li class=md-nav__item> <a href=#xpath-selalu-mengasumsikan-data-terstruktur-structured-data title="XPath selalu mengasumsikan data terstruktur (structured data)." class=md-nav__link> XPath selalu mengasumsikan data terstruktur (structured data). </a> </li> <li class=md-nav__item> <a href=#menelusuri-pohon-node-html-menggunakan-xpath title="Menelusuri pohon node HTML menggunakan XPath" class=md-nav__link> Menelusuri pohon node HTML menggunakan XPath </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sintaks-xpath-lanjutan title="Sintaks XPath lanjutan" class=md-nav__link> Sintaks XPath lanjutan </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#operators title=Operators class=md-nav__link> Operators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contoh title=Contoh class=md-nav__link> Contoh </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#predikat title=Predikat class=md-nav__link> Predikat </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#examples title=Examples class=md-nav__link> Examples </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pencarian-dalam-teks title="Pencarian dalam teks" class=md-nav__link> Pencarian dalam teks </a> </li> <li class=md-nav__item> <a href=#menampilkan-source-dari-suatu-page title="Menampilkan source dari suatu page" class=md-nav__link> Menampilkan source dari suatu page </a> </li> <li class=md-nav__item> <a href=#memetakan-suatu-webpage-denganxpath-menggunakan-console-suatu-browser title="Memetakan suatu webpage denganXPath menggunakan console suatu  browser" class=md-nav__link> Memetakan suatu webpage denganXPath menggunakan console suatu browser </a> </li> <li class=md-nav__item> <a href=#menampilkan-console-dalam-browser title="Menampilkan console dalam  browser" class=md-nav__link> Menampilkan console dalam browser </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#menggunkan-extension-firefox-xpath-finder title="Menggunkan extension firefox xPath Finder" class=md-nav__link> Menggunkan extension firefox xPath Finder </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#memilih-judul-tugas-akhir title="Memilih judul tugas akhir" class=md-nav__link> Memilih judul tugas akhir </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#menggunakan-scraper-chrome-extension-untuk-menavigasi-xpath title="Menggunakan  Scraper Chrome extension untuk menavigasi XPath" class=md-nav__link> Menggunakan Scraper Chrome extension untuk menavigasi XPath </a> </li> <li class=md-nav__item> <a href=#2membuat-scrapy-parser-dengan-python-tugas title="2.**Membuat Scrapy parser dengan Python ** (TUGAS)" class=md-nav__link> 2.**Membuat Scrapy parser dengan Python ** (TUGAS) </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#persiapan title=Persiapan class=md-nav__link> Persiapan </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#desain-secara-umum-scraping-website title="Desain secara umum scraping website" class=md-nav__link> Desain secara umum scraping website </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pembuatan-proyek title="Pembuatan Proyek" class=md-nav__link> Pembuatan Proyek </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Scrapwebsite</h1> <h3 id=membangun-scraping-website>Membangun Scraping Website .<a class=headerlink href=#membangun-scraping-website title="Permanent link">&para;</a></h3> <p>Untuk melakukan tahapan penarikan data dari suatu halaman halaman web maka yang perlu dipehatikan adalah </p> <ol> <li> <p>**Menganalisa ** strutktur HTML dari laman web Scraping adalah tentang menemukan pola dalam laman- laman web dan mengektraksi isi dari laman tersebut. Sebelum mulai untuk menulis tool scrapyng (scraper), kita perlu untuk memahami struktur HTML dari web page yang akan ditarik datanya dan mengidentifikasi pola didalamnya. Pola dapat terkait dengan penggunaan classes, id, and elemen elemen lain HTML.</p> </li> <li> <p>**Membuat Scrapy parser dengan python ** </p> </li> </ol> <p>Setelah menganlisa struktur dari halaman web yang akan ditarik datanya, kita lakukan implementasi dengan menulis code untuk menghasilkan scrapy parser . Scrapy parser bertanggung jawab untuk menjelajahi web yang akan ditarik datanya dan mengektrak informasi sesuai dengan aturan yang dibuat</p> <ol> <li><strong>Mengumpulkan dan menyimpan informasi</strong> Parser dapat menyimpan hasilnya sesuai dengan format yang anda inginkan misalkan csv atau json. Ini adalah hasil akhir dari data yang telah dikumpulkan </li> </ol> <h3 id=1analisa-struktur-html-halaman-website>1.Analisa Struktur HTML Halaman Website<a class=headerlink href=#1analisa-struktur-html-halaman-website title="Permanent link">&para;</a></h3> <p>XPath (kepanjangan dari XML Path Language) adalah <em>expression language</em> yang digunakan untuk menetapkanbagian bagian bagian bagian dari dokumen XML . XPath digunakan dalam perangkat lunak dan bahasa yang digunakan untuk manipulasi dokumen XML, seperti XSLT, XQuery atau alat alat web scraping XPath dapat juga digunakan dalam struktur yang sama seperti XML, misalkan html</p> <h2 id=markup-languages>Markup Languages<a class=headerlink href=#markup-languages title="Permanent link">&para;</a></h2> <p>XML dan HTML adalah <em>markup languages</em>. Artinya keduanya menggunakan sekumpulan tags atau rule untuk menyusun dan menyedian informasi yang ada didalamnya. Struktur ini membantu untuk secara otomatis untuk pemrosesan , pengeditan, pemformatan dan penampilan dan pencetakan informasi tersebut.</p> <p>Dokumen XML menyimpan data dalam format plain teks. Ini menyediakan perangkat lunan dan perangkat kerans dengan cara bebas untuk menyimpan, mentransformasi, dan menshare data. Format XML adalah format terbuka. Anda dapat membuka dokumen XML dalam editor teks dan data yang ada didalamnya dapat disajikan. Ini memungkinkan pertukran sistem yang tidak kompatibel dan mudah untuk mengkonversi suatu data.</p> <p>Dokumen XML memilki aturan-aturan dasar sebagai berikut:</p> <ul> <li>Dokumen XML disusun menggunakan <em>nodes</em>, yaitu terdiri dari node node elemen, node node atribute dan node node teks</li> <li>Node node elemen XML harus harus dibuka dan ditutup tag, misal. tag pembuka<code>&lt;catfood&gt;</code> dan tag penutup <code>&lt;/catfood&gt;</code> </li> <li>Tag XML adalah sensitif e, misal. <code>&lt;catfood&gt;</code> tidak sama dengan <code>&lt;catFood&gt;</code></li> <li>Elemen XML harus bertingkat dengan benar:</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>&lt;catfood&gt;</span>
  <span class=nt>&lt;manufacturer&gt;</span>Purina<span class=nt>&lt;/manufacturer&gt;</span>
    <span class=nt>&lt;address&gt;</span> 12 Cat Way, Boise, Idaho, 21341<span class=nt>&lt;/address&gt;</span>
  <span class=nt>&lt;date&gt;</span>2019-10-01<span class=nt>&lt;/date&gt;</span>
<span class=nt>&lt;/catfood&gt;</span>
</code></pre></div> <ul> <li>Node node teks (data) isinya didalam tag pembuka dan tag penutup</li> <li>Node note atribut XML berisi nilai-nilai yang harus di quoted, misal. <code>&lt;catfood type="basic"&gt;&lt;/catfood&gt;</code></li> </ul> <h2 id=xpath-selalu-mengasumsikan-data-terstruktur-structured-data>XPath selalu mengasumsikan data terstruktur (<em>structured</em> data).<a class=headerlink href=#xpath-selalu-mengasumsikan-data-terstruktur-structured-data title="Permanent link">&para;</a></h2> <p>Now let’s start using XPath.</p> <h2 id=menelusuri-pohon-node-html-menggunakan-xpath>Menelusuri pohon node HTML menggunakan XPath<a class=headerlink href=#menelusuri-pohon-node-html-menggunakan-xpath title="Permanent link">&para;</a></h2> <p>Cara yang paling umum untuk merepresentasikan struktur dari dokumen XML atau HTML adalah dengan pohon node (node tree):</p> <p><img alt="HTML Node Tree" src=http://www.w3schools.com/js/pic_htmltree.gif></p> <p>Dalam sebuah dokumen HTML , segala sesuatunya adalah node:</p> <ul> <li>Seluruh dokumen adalah node dokumen</li> <li>Setiap elemen elemen HTML adalah node elemen</li> <li>Teks didalam elemen HTML adalah node-node teks</li> </ul> <p>Node-node dalam suatu pohon memiliki hubungan hirarki dengan yang lain. Kita menggunakan istilah <em>parent</em>, <em>child</em> dan <em>sibling</em> untuk menjelaskan hubungan ini:</p> <ul> <li>Dalam pohon node, node paling atas disebut dengan <em>root</em> (atau <em>root node</em>)</li> <li>Setiap node memiliki tetap satu <em>parent</em>, kecuali root (yang tidak memiliki parent)</li> <li>Sutau node dapat memilik satu, beberapa atau tidak sama sekali <em>children</em></li> <li>*Sibling adalah node-node dengan parent sama</li> <li>Serangkaian hubungan antra node ke node disebut dengan <em>path</em></li> </ul> <p><img alt="Node relationships" src=http://www.w3schools.com/js/pic_navigate.gif></p> <p>Path-path dalam XPath didefinisikan dengan menggunakan slash (<code>/</code>) untuk memisahkan langkah/tahapan dalam rangkaian keterkaitan node, seperti URL-URLS atau direktori Unix</p> <p>Dalam XPath, semua ekspresi didasarkan pada <em>context node</em>. Context node adalah node path dari mana dimulai. Default context adalah node root , yang dinyatakan dengan slash tunggal (/), seperti dalam contoh diatas.</p> <p>Yang paling banyak digunakan untuk ekpresi patha adalah sebagai berikut:</p> <table> <thead> <tr> <th>Expression</th> <th align=left>Description</th> </tr> </thead> <tbody> <tr> <td><code>nodename</code></td> <td align=left>Memilih semua node dengan nama “nodename”</td> </tr> <tr> <td><code>/</code></td> <td align=left>Garis miring tunggal awal menunjukkan pemilihan dari simpul akar, garis miring berikutnya menunjukkan pemilihan simpul anak dari simpul saat ini</td> </tr> <tr> <td><code>//</code></td> <td align=left>Pilih node anak langsung dan tidak langsung dalam dokumen dari node saat ini - ini memberi kita kemampuan untuk "skip levels"</td> </tr> <tr> <td><code>.</code></td> <td align=left>Piiih context node saat ini</td> </tr> <tr> <td><code>..</code></td> <td align=left>Pilih parent dari context node</td> </tr> <tr> <td><code>@</code></td> <td align=left>Pilih atribut dari context node</td> </tr> <tr> <td><code>[@attribute = 'value']</code></td> <td align=left>Pilihan node dengan nilai atribut tertentu</td> </tr> <tr> <td><code>text()</code></td> <td align=left>Pilih isi teks dari node</td> </tr> <tr> <td>|</td> <td align=left>Rantai ekspresi dan membawa kembali hasil dari ekspresi mana pun</td> </tr> </tbody> </table> <h3 id=sintaks-xpath-lanjutan>Sintaks XPath lanjutan<a class=headerlink href=#sintaks-xpath-lanjutan title="Permanent link">&para;</a></h3> <h4 id=operators>Operators<a class=headerlink href=#operators title="Permanent link">&para;</a></h4> <p>Operator digunakan untuk membandingkan node-node. Terdaoat operator matematika,operator boolean. Operators dapat memberikan nilai boolean (benar /salah) sebagai hasil. Disini beberap yang banyak digunakan :</p> <table> <thead> <tr> <th align=left>Operator</th> <th align=left>Penjelasan</th> </tr> </thead> <tbody> <tr> <td align=left><code>=</code></td> <td align=left>Membandingkan kesamaan, dapat digunakan untuk nilai numerik maupun teks</td> </tr> <tr> <td align=left><code>!=</code></td> <td align=left>Dignuanak untuk membandikanketidak samaan</td> </tr> <tr> <td align=left><code>&gt;, &gt;=</code></td> <td align=left>Lebih besar, lebih besar dari atau sama dengan</td> </tr> <tr> <td align=left><code>&lt;, &lt;=</code></td> <td align=left>Lebih dari, lebih dari atau sama dengan</td> </tr> <tr> <td align=left><code>or</code></td> <td align=left>Boolean atau (or)</td> </tr> <tr> <td align=left><code>and</code></td> <td align=left>Boolean dan (and)</td> </tr> <tr> <td align=left><code>not</code></td> <td align=left>Boolean bukan (not)</td> </tr> </tbody> </table> <h3 id=contoh>Contoh<a class=headerlink href=#contoh title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th align=left>Ekspresi Path</th> <th align=left>Hasil Ekspresi</th> </tr> </thead> <tbody> <tr> <td align=left>html/body/div/h3/<a class="magiclink magiclink-github magiclink-mention" href=https://github.com/id title="GitHub User: id">@id</a>=’exercises-2’</td> <td align=left>Apakah exercise 2 ada?</td> </tr> <tr> <td align=left>html/body/div/h3/<a class="magiclink magiclink-github magiclink-mention" href=https://github.com/id title="GitHub User: id">@id</a>!=’exercises-4’</td> <td align=left>Apakah exercise 4 tidak ada?</td> </tr> <tr> <td align=left>//h1/<a class="magiclink magiclink-github magiclink-mention" href=https://github.com/id title="GitHub User: id">@id</a>=’references’ or <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/id title="GitHub User: id">@id</a>=’introduction’</td> <td align=left>Apakah terdapat terdapat references h1 atau introduction?</td> </tr> </tbody> </table> <h2 id=predikat>Predikat<a class=headerlink href=#predikat title="Permanent link">&para;</a></h2> <p>Predikat digunakan untuk menemukan node tertentu atau node yang berisi nilai tertentu</p> <p>Predikat selalu diletakkan dalam kurung siku, dimaksudkan untuk memberikan informasi pemfilteran tambahan untuk mengembalikan node. Anda dapat memfilter pada sebuah node dengan menggunakan operator atau fungsi</p> <h3 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th align=left>Operator</th> <th align=left>Explanation</th> </tr> </thead> <tbody> <tr> <td align=left><code>[1]</code></td> <td align=left>Pilih node pertama</td> </tr> <tr> <td align=left><code>[last()]</code></td> <td align=left>Pilih node yang terakhir</td> </tr> <tr> <td align=left><code>[last()-1]</code></td> <td align=left>Pilih node terakhir kedua</td> </tr> <tr> <td align=left><code>[position()&lt;3]</code></td> <td align=left>Pilih dua node pertama, perhatikan posisi pertama dimulai dari 1, bukan =</td> </tr> <tr> <td align=left><code>[@lang]</code></td> <td align=left>Pilih node yang memiliki atribut ‘lang’</td> </tr> <tr> <td align=left><code>[@lang='en']</code></td> <td align=left>Pilih semua node yang memiliki atribute dengan nilai atribute “en”</td> </tr> <tr> <td align=left><code>[price&gt;15.00]</code></td> <td align=left>Pilih semua node yang memiliki node price yang lebih besar dari 15.00</td> </tr> </tbody> </table> <h2 id=pencarian-dalam-teks>Pencarian dalam teks<a class=headerlink href=#pencarian-dalam-teks title="Permanent link">&para;</a></h2> <p>XPath dapat melakukan pencarian dalam teks mengunakan fungsi. Perhatikan: pencarian dalatem teks adalah case-sensitive!</p> <table> <thead> <tr> <th align=left>Path Expression</th> <th align=left>Result</th> </tr> </thead> <tbody> <tr> <td align=left><code>//author[contains(.,"Matt")]</code></td> <td align=left>Cocokkan pada semua node author, dalam node sekarang yang berisi Matt (case-sensitive)</td> </tr> <tr> <td align=left><code>//author[starts-with(.,"G")]</code></td> <td align=left>Cocokkan pada semua node author, dalam node sekarang yang dimulai dengan G (case-sensitive)</td> </tr> <tr> <td align=left><code>//author[ends-with(.,"w")]</code></td> <td align=left>Cocokkan pada semua dalam node sekarang yang yang berakhiran dengan w (case-sensitive)</td> </tr> </tbody> </table> <h2 id=menampilkan-source-dari-suatu-page>Menampilkan source dari suatu page<a class=headerlink href=#menampilkan-source-dari-suatu-page title="Permanent link">&para;</a></h2> <p>Untuk menemukan xpath element halaman website maka kita dapat membuka source page halama tersebut. Yaitu dengan cara klik kanan pada halaman</p> <p> <center> <img alt=source src=../assets/images/source.png width=60% height=60%> </center> </p> <h2 id=memetakan-suatu-webpage-denganxpath-menggunakan-console-suatu-browser>Memetakan suatu webpage denganXPath menggunakan console suatu browser<a class=headerlink href=#memetakan-suatu-webpage-denganxpath-menggunakan-console-suatu-browser title="Permanent link">&para;</a></h2> <p>KIta akan menggunakan kode HTML yang ada pada website portal tugas akhir mahasiswa sebagai contoh. Biasanya, setiap browser web dapat menampilkan sumber kode HTML dengan fungsinya tersendiri dari browser tersebut. Contoh diatas adalah menggunakan browser firefox dengan melakukan klik kanan pada pointer akan menampilakn submenu salah satunya View Page Source. Kemudian klik menu tersebut akand dapatkan source sumbernya sebagai berikut.</p> <div class=highlight><pre><span></span><code><span class=cp>&lt;!DOCTYPE html&gt;</span>

<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&quot;utf-8&quot;</span><span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Portal Tugas Akhir Univ. Trunojoyo<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;https://pta.trunojoyo.ac.id/css/reset.css&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;https://pta.trunojoyo.ac.id/css/style.css&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;https://pta.trunojoyo.ac.id/css/960_12_col.css&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>media</span><span class=o>=</span><span class=s>&quot;screen&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;https://pta.trunojoyo.ac.id/css/smoothness/jquery-ui-1.8.18.custom.css&quot;</span> <span class=p>/&gt;</span>

    <span class=c>&lt;!--[if lte IE 8]&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/ie.css&quot; /&gt; &lt;![endif]--&gt;</span>

    <span class=c>&lt;!-- favicon --&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;shortcut icon&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;image/x-icon&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;https://pta.trunojoyo.ac.id/images/favicon.ico&quot;</span><span class=p>/&gt;</span>

(...)

<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>

<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>Kita dapat melihat dari source code bahwa judul dari halama ini dalam elemen <code>title</code> yang ada dalam elemen <code>head</code> , yang ada didalam elemen <code>html</code> yang berisi seluruh isi dari page</p> <p>Sehingga jika kita ingin memberi tahu web scraper untuk mencari judul dari halaman ini, kita menggunakan informasi ini untuk menentukan path yang diperlukan untuk menjelajahi isi HTML dari page untuk menemukan element <code>title</code> . XPath memungkinkan untuk melakukan hal tersebut.</p> <p>Kita dapat menjalankan query XPath langsung pada browser dengan JavaScript console yang ada didalamnya. </p> <blockquote> <h2 id=menampilkan-console-dalam-browser>Menampilkan console dalam browser<a class=headerlink href=#menampilkan-console-dalam-browser title="Permanent link">&para;</a></h2> <ul> <li>Pad Firefox, gunakan menut <em>Tools &gt; Web Developer &gt; Web Console</em> .</li> <li>PadaChrome, gunakan menut <em>View &gt; Developer &gt; JavaScript Console</em></li> </ul> </blockquote> <p>Disini bagaimana console tampak dalam browser Firefox :</p> <p><img alt="JavaScript console in Firefox" src=https://librarycarpentry.org/lc-webscraping/fig/firefox-console.png></p> <p>Untuk saat ini, jangan khawatir terlalu banyak pesan error manakalan anda meliha dalam console ketika anda membukanya. Console akan dengan muncul <em>prompt</em> dengan karakter <code>&gt;</code> (atau <code>&gt;&gt;</code> dalam Firefox) menunggu anda untuk mengetik perintah .</p> <p>Sintaks untuk menjalankan query XPath dalam JavaScript console adalah <code>$x("XPATH_QUERY")</code>, misalkan:</p> <div class=highlight><pre><span></span><code>$x(&quot;/html/head/title/text()&quot;)
</code></pre></div> <p>Ini akan menghasilkan sesuatu seperti ini</p> <p> <center> <img alt=console src=../assets/images/console.png width=60% height=60%> </center> </p> <div class=highlight><pre><span></span><code>&lt;- Array <span class=o>[</span> <span class=c1>#text &quot;Portal Tugas Akhir Univ. Trunojoyo&quot; ]</span>
</code></pre></div> <h3 id=menggunkan-extension-firefox-xpath-finder>Menggunkan extension firefox xPath Finder<a class=headerlink href=#menggunkan-extension-firefox-xpath-finder title="Permanent link">&para;</a></h3> <p>Untuk menentukan cpath dari element dari halam website dengan mudah dilakukan menggunakan xPath Finder. Jika belum ada ektension firefox xPath Finder ,silahkan install dulu extension tersebut. Penggunaannya adalah dengan cara klik pada icon extension curson akan berubah menjadi crosshair, kemudian pilih elemen yang diinginkan dengan kursor diarahkan pada elemen tersebut ( elemen akan berubah warna ). Klik elemen tersebut sehingga akan tampil xPath dari elemen tersebut di bawah kiri dari halaman</p> <p> <center> <img alt=pta src=../assets/images/pta.png width=60% height=60%> </center> </p> <div class=highlight><pre><span></span><code>In <span class=o>[</span><span class=m>3</span><span class=o>]</span>: fetch<span class=o>(</span><span class=s1>&#39;https://pta.trunojoyo.ac.id/&#39;</span><span class=o>)</span>
<span class=m>2020</span>-09-25 <span class=m>04</span>:32:42 <span class=o>[</span>scrapy.core.engine<span class=o>]</span> DEBUG: Crawled <span class=o>(</span><span class=m>200</span><span class=o>)</span> &lt;GET https://pta.t
runojoyo.ac.id/&gt; <span class=o>(</span>referer: None<span class=o>)</span>

In <span class=o>[</span><span class=m>4</span><span class=o>]</span>: response.xpath<span class=o>(</span><span class=s2>&quot;/html/body/div[2]/div[1]/div[2]/ul/li[1]/div[1]/a&quot;</span><span class=o>)</span>
Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>: <span class=o>[</span>&lt;Selector <span class=nv>xpath</span><span class=o>=</span><span class=s1>&#39;/html/body/div[2]/div[1]/div[2]/ul/li[1]/div[1]/a&#39;</span> dat
<span class=nv>a</span><span class=o>=</span><span class=s1>&#39;&lt;a class=&quot;title&quot; href=&quot;#&quot;&gt;Analisis Wa...&#39;</span>&gt;<span class=o>]</span>
</code></pre></div> <p>Dari hasil scrap diatas ddapat diperbaiki ouputnya dengan perintah sebagai berikut</p> <div class=highlight><pre><span></span><code>In <span class=o>[</span><span class=m>5</span><span class=o>]</span>: response.xpath<span class=o>(</span><span class=s2>&quot;//item/title/text()&quot;</span><span class=o>)</span>.extract_first<span class=o>()</span>

In <span class=o>[</span><span class=m>6</span><span class=o>]</span>: response.xpath<span class=o>(</span><span class=s2>&quot;/html/body/div[2]/div[1]/div[2]/ul/li[1]/div[1]/a/text(</span>
<span class=s2>   ...: )&quot;</span><span class=o>)</span>.extract_first<span class=o>()</span>
Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>: <span class=s1>&#39;Analisis Wacana Media Online Detik.com dalam Memberitakan Peristiwa Ker</span>
<span class=s1>usuhan Mahasiswa Papua di Surabaya&#39;</span>
</code></pre></div> <p>Mari kita bahas query XPath yang digunakan pada contoh diatas dengan XPath <code>/html/head/title/text()</code>. Yang pertama <code>/</code> menyatakan <em>root</em> dari suatu dokumen. Dengan query tersebut , kita memberit tahu browser untuk</p> <table> <thead> <tr> <th><code>/</code></th> <th>Start at the root of the document…</th> </tr> </thead> <tbody> <tr> <td><code>html/</code></td> <td>… mengarahkan ke node <code>html</code> …</td> </tr> <tr> <td><code>head/</code></td> <td>… kemudaian ke node <code>head</code> yang ada didalamnya…</td> </tr> <tr> <td><code>title/</code></td> <td>… kemudaian ke node <code>title</code> yang ada didalamnya…</td> </tr> <tr> <td><code>text()</code></td> <td>dan pilih node text yang terdapat dalam elemen itu</td> </tr> </tbody> </table> <p>Dengan menggunakan sintaks ini , XPath kemudian memungkinkan kita untuk menentukan path yang tepat pada suatu node.</p> <blockquote> <h2 id=memilih-judul-tugas-akhir>Memilih judul tugas akhir<a class=headerlink href=#memilih-judul-tugas-akhir title="Permanent link">&para;</a></h2> </blockquote> <p> <center> <img alt=judul src=../assets/images/judul.png width=60% height=60%> </center> </p> <blockquote></blockquote> <div class=highlight><pre><span></span><code><span class=nv>$x</span><span class=o>(</span><span class=s2>&quot;/html/body/div[2]/div[1]/div[2]/ul/li[1]/div[1]/a&quot;</span><span class=o>)</span>
</code></pre></div> <h3 id=menggunakan-scraper-chrome-extension-untuk-menavigasi-xpath>Menggunakan Scraper Chrome extension untuk menavigasi XPath<a class=headerlink href=#menggunakan-scraper-chrome-extension-untuk-menavigasi-xpath title="Permanent link">&para;</a></h3> <p>Ini adalah alat yang memudahkan untuk mengimplementasikan XPath. Alat ini adalah tambahan dari browser Chrome untuk melakukan scrap data dari suatu website. Jika kita ingin menggunakan tool ini maka perlu ditambahkan pada browser Chrome kita seperti biasa kita menambahkan extension Chrome secara umum. Setelah kita install extension ini misalkan kita sedang menjelajahi pta.trunojoyo.ac.id, pada saat klik kanan pada website tersebut maka akan muncul menu </p> <p> <center> <img alt=chromscrap src=../assets/images/chromscrap.png width=60% height=60%> </center> </p> <p>Dan bila kita mengklik menu <strong>scraper similar</strong> maka akan memunculkan XPath : //div[2]/div[1]/div[2]/ul/li dengan data yang ditarik dari halam website tersebut. Pada view di samping Xpath judul, penulis, dosen pembimbing dan abstrak ditampilkan dalam satu kolom dengan nama kolom text.</p> <p> <center> <img alt=chromscrapa src=../assets/images/chromscrapa.png width=60% height=60%> </center> </p> <p>Untuk memperbaiki hasil tampilan ini, supaya menjadi field field yang sesuai, maka diperlukan perubahan dengan menambahkan nama kolom (field) dan memecah XPath yang sesuai. Berikut perubahan yang telah dilakukan </p> <p> <center> <img alt=scrap src=../assets/images/scrap.png width=60% height=60%> </center> </p> <h3 id=2membuat-scrapy-parser-dengan-python-tugas>2.**Membuat Scrapy parser dengan Python ** (TUGAS)<a class=headerlink href=#2membuat-scrapy-parser-dengan-python-tugas title="Permanent link">&para;</a></h3> <h4 id=persiapan>Persiapan<a class=headerlink href=#persiapan title="Permanent link">&para;</a></h4> <p>instalasi alat alat yaitu</p> <ul> <li><a href=http://doc.scrapy.org/en/1.0/ >Scrapy</a> library </li> </ul> <p>pip install scrapy</p> <h3 id=desain-secara-umum-scraping-website>Desain secara umum scraping website<a class=headerlink href=#desain-secara-umum-scraping-website title="Permanent link">&para;</a></h3> <p><img alt=img src=https://2.bp.blogspot.com/-oeOzu13C26U/V1_2uXbFE4I/AAAAAAAAALI/2RmiWjCb--YUVO6MAg3pG5eIOISFkVwBgCLcB/s1600/custom-web-scraping-624x301.png> <a href=https://topwebscrapingservice.wordpress.com/ >Source</a></p> <h4 id=pembuatan-proyek>Pembuatan Proyek<a class=headerlink href=#pembuatan-proyek title="Permanent link">&para;</a></h4> <p>Proyek 1. Menarik data harga dari website</p> <p>a. Membuat proyek bernama mytugaswebmining</p> <div class=highlight><pre><span></span><code>scrapy startproject mytugaswebmining
</code></pre></div> <p>Akan terbentuk struktur folder shopee seperti berikut</p> <div class=highlight><pre><span></span><code>\---mytugaswebmining
    |   scrapy.cfg
    |
    \---mytugaswebmining
        |   items.py
        |   middlewares.py
        |   pipelines.py
        |   settings.py
        |   __init__.py
        |
        \---spiders
                __init__.py
</code></pre></div> <p>Scrapy merupakan framewerok aplikasi yang memungkinkan suatu suatu proyek sesuai dengan gaya pemrograman <strong>Object Oriented</strong> untuk mendefinisikan item-item dan spider untuk keseluruhan aplikasi. Struktur proyek dari scrapy yang telah dibuat diatas dengan masing masing sebagai berikut </p> <ul> <li><strong>scrapy.cfg</strong> : ini adalah file konfigurasi proyek yang berisi modul pengaturan untuk proyek dan juga dengan informasi pengimplementasiannya.</li> <li><strong>test_project</strong> : Ini adalah direktori aplikasi dengan banyak macam file yang benar bena bertanggung jawab untuk menjalankan dan menarik data dari urls-url web.</li> <li><strong>items.py</strong> : item-item yang akan ditarik oleh scraper, ini juga bekerja seperti <strong>Python dicts</strong>. Karena kita dapat menggunakan plain Python dicts dengan Scrapy, Items menyediakan proteksi tambahan terhadap field-field yang tidak dideklarasikan. Hal itu dideklarasikan dengan pembuatan <strong>scrapy.Item</strong> class dan mendefinisika atribut atributnya sebagai <strong>scrapy.Field</strong> .</li> <li><strong>pipelines.py</strong> : Setelah item di scrap oleh spider, item itu dikirim ke Item <strong>Pipeline</strong> yang memprosesnya dengan menggunakan beberapa komponen yang dijalankan secara berurutan. Masing masing <em>item pipeline component</em> adalah kelas Python yang harus mengimplementasikan metode yang disebut dengan <strong>process_item</strong> untuk memproses item yang di-<em>scrap</em>. Proses dilakukan terhadap item dengan memutuskan item harus diteruskan atau didrop dan tidak dinajutkan proses berikutnya.</li> <li><strong>settings.py</strong> : Ini memungkinkan kita untuk mengkustom semua karakteristi komponen-komponen Scrapy termasuk <em>core, extensions, pipelines dan spiders</em> itu sediri. </li> <li><strong>spiders</strong> : Spiders adalah direktori yang berisi semua <strong>spiders/crawlers</strong> seperti kelas-kelas Python . Ketika kita menjalankan atau meng-crawler spider maka scrapy mencari didalam di direktori ini dan mencoba untuk menemukan spider dengan namanya yang telah ditetapkan oleh pengguna. Spider mendefinisikan bagaimana site tertentu atau sekumpulan site, termasuk bagaimana melakukan crawl dan bagaimana mengektrak data dari page-pagenya. Artinya, Spiders adalah tempat dimana kita mendefinisikan tiga atribut utam yaitu <strong>start_urls</strong> yang meberi tahu URLs mana yang akan ditarik, , <strong>allowed_domains</strong> yaitu mendefinisikan domain mana saja yang boleh <strong>parse</strong> adalah suatu metode yang dipanggil ketika ada respon yang berasal dari <em>lodged requests</em>. Atribut ini adalah penting karena ini inti dari definisi Spider</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Mulaab </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../assets/fonts/font-awesome.css> <a href=https://github.com/mulaab class="md-footer-social__link fa fa-github-alt"></a> <a href=https://twitter.com/mulaab class="md-footer-social__link fa fa-twitter"></a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/application.ffb616e8.js></script> <script>app.initialize({version:"1.1.2",url:{base:".."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>